# 權限管理：
## 介紹
> 主要用於修改目錄及檔案的用戶存取權限。

> 這邊對於網路安全來說相當重要!

> 用來管理不同用戶可以存取的檔案類型,身為最高權限管理員的你可以自行更動檔案存取權限。
- chmod：修改檔案權限
  - 權限值對照表
  ```
  ╔════════════╦═══════════════╦═════════════════════════════════════╗
  ║ 權限值     ║ 符號表示      ║ 說明                                  ║
  ╠════════════╬═══════════════╬═════════════════════════════════════╣
  ║ 0          ║ ---          ║ 無權限                               ║
  ║ 1          ║ --x           ║ 執行權限 (Execute)                   ║
  ║ 2          ║ -w-           ║ 寫入權限 (Write)                     ║
  ║ 3          ║ -wx           ║ 寫入與執行權限 (Write + Execute)     ║
  ║ 4          ║ r--           ║ 讀取權限 (Read)                      ║
  ║ 5          ║ r-x           ║ 讀取與執行權限 (Read + Execute)      ║
  ║ 6          ║ rw-           ║ 讀取與寫入權限 (Read + Write)        ║
  ║ 7          ║ rwx           ║ 讀取、寫入與執行權限 (Full Access)    ║
  ╚════════════╩═══════════════╩═════════════════════════════════════╝
  ```
  - 常用權限值
  ```
  ╔═════════╦════════════╦════════════════════════════════════════════════════╗
  ║ 權限值  ║ 符號表示   ║ 說明                                                 ║
  ╠═════════╬════════════╬════════════════════════════════════════════════════╣
  ║ 777     ║ rwxrwxrwx  ║ 全開放權限，擁有者、群組和其他人均有讀、寫、執行權限    ║
  ║ 755     ║ rwxr-xr-x  ║ 預設目錄權限，擁有者可讀寫執行，其他人僅可讀取與執行    ║
  ║ 644     ║ rw-r--r--  ║ 預設檔案權限，擁有者可讀寫，其他人僅可讀取             ║
  ║ 700     ║ rwx------  ║ 僅擁有者有所有權限，群組與其他人無權限                 ║
  ║ 600     ║ rw-------  ║ 僅擁有者可讀寫，群組與其他人無權限                    ║
  ║ 555     ║ r-xr-xr-x  ║ 所有人僅可讀取與執行，無法寫入                        ║
  ║ 444     ║ r--r--r--  ║ 所有人僅可讀取，無法寫入或執行                        ║
  ║ 400     ║ r--------  ║ 僅擁有者可讀取，群組與其他人無權限                    ║
  ║ 000     ║ ---------- ║ 無任何權限                                          ║
  ╚═════════╩════════════╩════════════════════════════════════════════════════╝

  ```
  - 計算方法：
    - 假設權限為 rwxr-xr--：
    - 則前三個為擁有者權限,中間三個為群組權限,後三個為其他人權限
    - 擁有者f權限為= `rwx` =4+2+1=7(Full Access)
    - 群駔權限為= `r-x` =4+0+1=5(Read + Execute)
    - 其他人權限為= `r--` =4+0+0=4(Read)
    - 所以其權限值為'755'
  - 權限值最前面的字母代表含意
    - -：一般檔案 (Regular File)
    - d：目錄 (Directory)
    - l：符號連結 (Symbolic Link)
    - b：區塊設備檔案 (Block Device)
    - c：字元設備檔案 (Character Device)
    - s：Socket
    - p：FIFO（命名管道）
  - umask 是 User File Creation Mask 的簡寫,主要用於設定新建檔案或目錄時的預設權限
    - 預設權限：
      - 檔案：666（讀/寫權限，沒有執行權限）
      - 目錄：777（讀/寫/執行權限）
    - umask 值：以八進制表示，會從預設權限中扣除相應權限。
    - 舉例說明
      - umask 033,目錄權限
      - 所以要先用預設權限減去umask值=777-033=744
      - `7`=rw-(擁有者)
      - `4`=-w-(群組)
      - `4`=-w-(其他人)
  - chmod 指令參數總覽
  
  | **指令參數**    | **說明**                                                 | **適用對象**           | **範例權限變化** (前 -> 後)          |
  |------------------|----------------------------------------------------------|------------------------|--------------------------------------|
  | **u+r**          | 為擁有者增加讀取權限                                      | 擁有者 (user)          | `-rw-------` → `-rwx------`         |
  | **u-w**          | 移除擁有者的寫入權限                                      | 擁有者 (user)          | `-rwx------` → `-rx------`          |
  | **u+x**          | 為擁有者增加執行權限                                      | 擁有者 (user)          | `-rw-------` → `-rwx------`         |
  | **g+r**          | 為群組增加讀取權限                                        | 群組 (group)           | `-rw-------` → `-rw-r-----`         |
  | **g-w**          | 移除群組的寫入權限                                        | 群組 (group)           | `-rw-rw----` → `-rw-r-----`         |
  | **g+x**          | 為群組增加執行權限                                        | 群組 (group)           | `-rw-r-----` → `-rw-r-x---`         |
  | **g+w**          | 為群組增加寫入權限                                        | 群組 (group)           | `-rw-r-----` → `-rw-rw----`         |
  | **o+r**          | 為其他人增加讀取權限                                      | 其他人 (others)        | `-rw-------` → `-rw----r--`         |
  | **o-w**          | 移除其他人的寫入權限                                      | 其他人 (others)        | `-rw-rw-rw-` → `-rw-rw-r--`         |
  | **o+x**          | 為其他人增加執行權限                                      | 其他人 (others)        | `-rw----r--` → `-rw----r-x`         |
  | **u+s**          | 設定 SUID（執行時以檔案擁有者身份運行）                   | 擁有者 (user)          | `-rwx------` → `-rws------`          |
  | **g+s**          | 設定 SGID（執行時以檔案所屬群組身份運行，或目錄繼承群組） | 群組 (group)           | `-rwx------` → `-rwxr-s---`            |
  | **o+t**          | 設定 Sticky 位元（僅允許擁有者刪除檔案）                  | 其他人 (others)        | `drwxrwxrwx` → `drwxrwxrwt`           |
  | **u-s**          | 移除 SUID                                                | 擁有者 (user)          | `-rws------` → `-rwx------`         |
  | **g-s**          | 移除 SGID                                                | 群組 (group)           | `-rwxr-s---` → `-rwxr-x---`         |
  | **o-t**          | 移除 Sticky 位元                                         | 其他人 (others)        | `drwxrwxrwt` → `drwxrwxrwx`         |

  
- chown：更改文件所有者
  - **賦予"client"操作權限**
  ```
  sudo chown cleint:client /home/client
  ```
  - ![螢幕擷取畫面 2024-09-18 164037](https://github.com/user-attachments/assets/54a3928f-83f8-4455-9d11-f30f124a3bf8)
  - **查看權限資訊**
  ```
  ls -ld /home/client
  ```
  - ![螢幕擷取畫面 2024-09-18 164037](https://github.com/user-attachments/assets/54a3928f-83f8-4455-9d11-f30f124a3bf8)
- sudo：臨時取得使用者超級權限
- **使用最高權限賦予"client"操作權限**
  ```
  sudo chown cleint:client /home/client
  ```
  - ![螢幕擷取畫面 2024-09-18 164037](https://github.com/user-attachments/assets/54a3928f-83f8-4455-9d11-f30f124a3bf8)
